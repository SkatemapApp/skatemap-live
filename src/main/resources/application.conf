play.modules.enabled += "skatemap.infra.SkatemapLiveModule"

play.http.errorHandler = "play.api.http.JsonHttpErrorHandler"

skatemap {
  cleanup {
    initialDelaySeconds = 10
    intervalSeconds = 10
  }
  location {
    ttlSeconds = 30
  }
  stream {
    batchSize = 100
    batchIntervalMillis = 500
  }
  hub {
    # Time-to-live for unused broadcast hubs (5 minutes)
    # Hubs that have not been accessed (published to or subscribed) for this duration will be removed
    ttlSeconds = 300

    # Cleanup interval (1 minute)
    # How often the cleanup process runs to remove unused hubs
    # Should be less than ttlSeconds to ensure timely cleanup
    cleanupIntervalSeconds = 60

    # Buffer size for WebSocket broadcast hubs
    # Number of messages to buffer per hub
    # Higher values provide more resilience to slow consumers but use more memory
    bufferSize = 128
  }
}
